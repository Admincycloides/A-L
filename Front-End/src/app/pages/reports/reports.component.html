
<div class="action-head justify-content-between d-flex align-items-center mb-1 flex-column">
    <div class="page-title w-100 mw-100">View Reports</div>
    <div class="row mg-filter-row w-100 mt-2">
        <div class="mg-filter col-md-3 pl-md-0 px-sm-2 px-0 px-lg-2 px-xl-2 mb-2
            mb-sm-0 mb-md-0 mb-lg-0 mb-xl-0">
            <ng-multiselect-dropdown
                [placeholder]="'Select Project'"
                [settings]="dropdownSettings"
                [data]="projectList"
                name="project"
                (onDeSelect)="onProjectEmployeeDeSelect($event,'project')"
                (onSelect)="onProjectEmployeeSelect($event,'project')"
                (onSelectAll)="onProjectEmployeeSelectAll($event,'project')"
                (onDeSelectAll)="onProjectEmployeeDeSelectAll($event,'project')"></ng-multiselect-dropdown>
        </div>
        <div class="mg-filter col-md-3 pl-md-0 px-sm-2 px-0 px-lg-2 px-xl-2 mb-2
            mb-sm-0 mb-md-0 mb-lg-0 mb-xl-0">
            <ng-multiselect-dropdown
                [placeholder]="'Select Employee'"
                [settings]="dropdownEmployeeSettings"
                [data]="employeeList"
                name="employee"
                (onDeSelect)="onProjectEmployeeDeSelect($event,'employee')"
                (onSelect)="onProjectEmployeeSelect($event,'employee')"
                (onSelectAll)="onProjectEmployeeSelectAll($event,'employee')"
                (onDeSelectAll)="onProjectEmployeeDeSelectAll($event,'employee')"
                ></ng-multiselect-dropdown>
        </div>
        <div class="mg-filter col-md-3 pl-md-0 px-sm-2 px-0 px-lg-2 px-xl-2 mb-2
            mb-sm-0 mb-md-0 mb-lg-0 mb-xl-0 fm-date position-relative">
            <input
                class="form-control"
                placeholder="From Date"
                readonly
                name=""
                [maxDate]=""
                (dateSelect)="dateChange($event,'from')"
                [minDate]=""
                ngbDatepicker
                #from="ngbDatepicker"
                />
            <div class="input-group-append">
                <button class="btn btn-outline-secondary"
                    (click)="from.toggle()" type="button">
                    <i class="nc-icon nc-calendar-60"></i>
                </button>
            </div>
        </div>
        <div class="mg-filter col-md-3 pr-md-0 pr-lg-0 pr-xl-0 pl-sm-2 pl-md-2
            pl-lg-2 pl-xl-2 px-0 mb-2 mb-sm-0 mb-md-0 mb-lg-0 mb-xl-0 tm-date">
            <input
                class="form-control"
                placeholder="To Date"
                readonly
                name="To Date"
                [maxDate]="maxPickerDateTo"
                (dateSelect)="dateChange($event,'to')"
                [minDate]="minPickerDateTo"
                ngbDatepicker
                #to="ngbDatepicker"
                />
            <div class="input-group-append">
                <button class="btn btn-outline-secondary" (click)="to.toggle()"
                    type="button">
                    <i class="nc-icon nc-calendar-60"></i>
                </button>
            </div>
        </div>
    </div>
</div>
<!-- Action Head ENDS  -->
<div class="w-100 mt-1 d-flex justify-content-end py-3 px-2 generate-btnrow mb-3">
    <button class="act-btn thm-btn thm-btn-primary" (click)="onGenerateReport()">Generate</button>
</div>
<!-- Button row  ENDS  -->

<!-- Card section starts  -->
<div class="row">
    <div class="col-md-12">
        <div class="card">
            <div class="card-body">
                <!-- Table section starts -->
                <div class="table-responsive t-v-scroll-base">
                    <table class="table stick-page-base">
                        <thead class="text-primary">
                            <th>
                                Project
                            </th>
                            <th>
                                Employee Name
                            </th>
                            <th *ngFor="let date of allDates">
                                {{date |date: "EEE MMM-d"}}
                            </th>
                                                        <th> 
                                                            Total
                                                        </th>
                                                    </thead>
                                                    <tbody>
                                                        <tr *ngFor="let item of reportList">
                                                            <td>
                                                                {{item.projectName}}
                                                            </td>
                                                            <td>
                                                                {{item.employeeName}}
                                                            </td>
                                                            <td *ngFor="let hours of item.timeSpent">
                                                                {{hours.numberOfHours}}
                                                            </td>
                                                            <td>
                                                                {{getTotalHours(item)}}
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <td>
                                                                Total
                                                            </td>
                                                            <td>
                                                                
                                                            </td>
                                                            <td *ngFor="let item of totalHours">
                                                                {{item.numberOfHours}}
                                                            </td>
                                                        </tr>
                                                        <!--<tr>
                                                             <td>
                                                                Project name and
                                                                relates labels
                                                                of qa
                                                            </td>
                                                            <td>
                                                                Alex
                                                            </td>
                                                            <td>
                                                                1
                                                            </td>
                                                            <td>
                                                                1
                                                            </td>
                                                            <td>
                                                                2
                                                            </td>
                                                            <td>
                                                                5
                                                            </td>
                                                            <td>
                                                                6
                                                            </td>
                                                            <td>

                                                            </td>
                                                            <td>

                                                            </td>
                                                            <td>
                                                                18
                                                            </td>
                                                        </tr> -->
                                                        <tr>

                                                        </tr>

                                                    </tbody>
                                                </table>
                                            </div>
                                            <!-- Table section END -->

                                        </div>
                                    </div>
                                </div>


                            </div>
                            <!-- Card section ENDS  -->
<ng-container *ngIf="!reportList?.length">
    <div class="justify-content-center mb-5 mt-2 d-flex">No Report Found!!</div>
</ng-container>
